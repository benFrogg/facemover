{"ast":null,"code":"var _jsxFileName = \"E:\\\\FYP_Face_Animation\\\\fyp_full\\\\fyp_web\\\\src\\\\components\\\\Animator\\\\FeatureSelection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport TreeView from '@mui/lab/TreeView';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport TreeItem from '@mui/lab/TreeItem';\nimport ImageContext from './ImageContext';\nimport ImageUploader from './ImageUploader';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport './ImageUploader.css';\nimport uploadImg from '../../img/cloud-upload-regular-240.png';\n/*import DropdownTreeSelect from 'react-dropdown-tree-select';*/\n\n/*const HM = {\r\n    key: \"1\",\r\n    label: \"Head Movement\",\r\n    children: [\r\n        {\r\n            key: \"1a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"1b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"1c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"1d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FE = {\r\n    key: \"2\",\r\n    label: \"Facial Expression\",\r\n    children: [\r\n        {\r\n            key: \"2a\",\r\n            label: \"Happy\",\r\n        },\r\n        {\r\n            key: \"2b\",\r\n            label: \"Sad\",\r\n        },\r\n        {\r\n            key: \"2c\",\r\n            label: \"Angry\",\r\n        },\r\n        {\r\n            key: \"2d\",\r\n            label: \"Surprise\",\r\n        },\r\n        {\r\n            key: \"2e\",\r\n            label: \"Disgust\",\r\n        }, \r\n        {\r\n            key: \"2f\",\r\n            label: \"Neutral\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst EM = {\r\n    key: \"3\",\r\n    label: \"Eye Movement\",\r\n    children: [\r\n        {\r\n            key: \"3a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"3b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"3c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"3d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst GC = {\r\n    key: \"4\",\r\n    label: \"Gender Customization\",\r\n    children: [\r\n        {\r\n            key: \"4a\",\r\n            label: \"Male\",\r\n        },\r\n        {\r\n            key: \"4b\",\r\n            label: \"Female\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FA = {\r\n    key: \"5\",\r\n    label: \"Face Aging\",\r\n    children: [\r\n        {\r\n            key: \"5a\",\r\n            label: \"Older\",\r\n        },\r\n        {\r\n            key: \"5b\",\r\n            label: \"Younger\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst AS = {\r\n    key: \"6\",\r\n    label: \"Anime-Style\",\r\n    children: [\r\n        {\r\n            key: \"6a\",\r\n            label: \"Anime\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst PA = {\r\n    key: \"7\",\r\n    label: \"Produce Audio\",\r\n    children: [\r\n        {\r\n            key: \"7a\",\r\n            label: \"Audio Clip 1\",\r\n        },\r\n        {\r\n            key: \"7b\", \r\n            label: \"Audio Clip 2\",\r\n        },\r\n        {\r\n            key: \"7c\",\r\n            label: \"Audio Clip 3\",\r\n        }\r\n    ]\r\n}*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst data = {\n  key: \"feature\",\n  label: \"Features\",\n  children: [{\n    key: \"1\",\n    label: \"Head Movement\"\n    /*children: [\r\n        {\r\n            key: \"1a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"1b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"1c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"1d\",\r\n            label: \"Down\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"2\",\n    label: \"Facial Expression\"\n    /*children: [\r\n        {\r\n            key: \"2a\",\r\n            label: \"Happy\",\r\n        },\r\n        {\r\n            key: \"2b\",\r\n            label: \"Sad\",\r\n        },\r\n        {\r\n            key: \"2c\",\r\n            label: \"Angry\",\r\n        },\r\n        {\r\n            key: \"2d\",\r\n            label: \"Surprise\",\r\n        },\r\n        {\r\n            key: \"2e\",\r\n            label: \"Disgust\",\r\n        }, \r\n        {\r\n            key: \"2f\",\r\n            label: \"Neutral\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"3\",\n    label: \"Eye Movement\"\n    /*children: [\r\n        {\r\n            key: \"3a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"3b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"3c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"3d\",\r\n            label: \"Down\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"GC\",\n    label: \"Gender Customization\",\n    children: [{\n      key: \"4\",\n      label: \"Male\"\n    }, {\n      key: \"5\",\n      label: \"Female\"\n    }]\n  }, {\n    key: \"FA\",\n    label: \"Face Aging\",\n    children: [{\n      key: \"6\",\n      label: \"Older\"\n    }, {\n      key: \"7\",\n      label: \"Younger\"\n    }]\n  }, {\n    key: \"8\",\n    label: \"Anime-Style\"\n    /*children: [\r\n        {\r\n            key: \"8\",\r\n            label: \"Anime\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"9\",\n    label: \"Produce Audio\"\n    /*children: [\r\n        {\r\n            key: \"9\",\r\n            label: \"Audio Clip 1\",\r\n        }\r\n    ]*/\n\n  }]\n};\n\nfunction FeatureSelection(props) {\n  _s();\n\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const wrapperRef = useRef(null);\n  const [image, setImage] = useState([]);\n\n  const onDragEnter = () => wrapperRef.current.classList.add('dragover');\n\n  const onDragLeave = () => wrapperRef.current.classList.remove('dragover');\n\n  const onDrop = () => wrapperRef.current.classList.remove('dragover');\n\n  const onFileDrop = e => {\n    const newFile = e.target.files[0];\n\n    if (newFile) {\n      const updatedList = [...image, newFile];\n      setImage(updatedList);\n      props.onFileChange(updatedList);\n    }\n  };\n\n  const fileRemove = file => {\n    const updatedList = [...image];\n    updatedList.splice(image.indexOf(file), 1);\n    setImage(updatedList);\n    props.onFileChange(updatedList);\n  };\n\n  {\n    /*const twoCharRegex = /^[1-9][a-zA-Z]+$/;*/\n  }\n  {\n    /*This is accepting range from 1 - 100*/\n  }\n  const regex = /^[0-9\\b]+$/;\n  useEffect(() => {\n    console.log(\"Feature selected: \", selectedFeature);\n  });\n\n  const NodeSelect = (event, nodeId) => {\n    if (regex.test(nodeId)) {\n      setSelectedFeature(nodeId);\n    } else {\n      setSelectedFeature(null);\n    }\n  };\n  /*const transformImage = async () => {\r\n        const fD = new FormData()\r\n        fD.append(\r\n          \"file\",\r\n          newFile,\r\n          newFile.name\r\n      )\r\n        if (selectedFeature != null && newFile != null) {\r\n          const requestOptions = {\r\n          method: 'POST',\r\n          body: fD\r\n          }\r\n            fetch(\"/get-image\", requestOptions)\r\n              .then(response => response.json())\r\n              .then(function (response) {\r\n                  console.log(\"response\", response)\r\n          });\r\n      } else {\r\n          console.log(\"No feature selected or no image uploaded\")\r\n      }\r\n  }*/\n\n  /*const transformImage = async () => {\r\n      let imageUpload = document.querySelector(\"#imageUploaded\")\r\n      \r\n      console.log(image)\r\n      let fD = new FormData()\r\n      // fD.append(\"featureID\", selectedFeature)\r\n      fD.append(\"file\", image)\r\n        axios.post(\"/get-image\", fD, {'Content-Type': 'multipart/form-data'})\r\n          .then(response => {\r\n              console.log(\"REsponse\",response)\r\n          }) .catch ((error) => {\r\n              console.log(\"Error\",error)\r\n          })\r\n  }*/\n\n\n  const renderTree = features => /*#__PURE__*/_jsxDEV(TreeItem, {\n    nodeId: features.key,\n    label: features.label,\n    children: Array.isArray(features.children) ? features.children.map(feature => renderTree(feature)) : null\n  }, features.key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: wrapperRef,\n        className: \"drop-file-input\",\n        onDragEnter: onDragEnter,\n        onDragLeave: onDragLeave,\n        onDrop: onDrop,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drop-file-input__label\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: uploadImg,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Drag & Drop your files here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          value: \"\",\n          onChange: onFileDrop,\n          id: \"imageUpload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 13\n      }, this), image.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drop-file-preview\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"drop-file-preview__title\",\n          children: \"Ready to upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 25\n        }, this), image.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drop-file-preview__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"drop-file-preview__item__info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [item.size, \"B\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"drop-file-preview__item__del\",\n            onClick: () => fileRemove(item),\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 37\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 33\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 21\n      }, this) : null]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"300px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(TreeView, {\n        defaultCollapseIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 48\n        }, this),\n        defaultExpanded: [\"feature\"],\n        defaultExpandIcon: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 117\n        }, this),\n        sx: {\n          height: 110,\n          flexGrow: 1\n        },\n        onNodeSelect: NodeSelect,\n        children: [renderTree(data), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"transformImage\",\n          onClick: transformImage,\n          children: \"Transform!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FeatureSelection, \"HUUrvFDrRXOtfRalJGOwtR+TZgQ=\");\n\n_c = FeatureSelection;\nexport default FeatureSelection;\n\nvar _c;\n\n$RefreshReg$(_c, \"FeatureSelection\");","map":{"version":3,"sources":["E:/FYP_Face_Animation/fyp_full/fyp_web/src/components/Animator/FeatureSelection.js"],"names":["React","useEffect","useState","useContext","useRef","TreeView","ExpandMoreIcon","ChevronRightIcon","TreeItem","ImageContext","ImageUploader","axios","PropTypes","uploadImg","data","key","label","children","FeatureSelection","props","selectedFeature","setSelectedFeature","wrapperRef","image","setImage","onDragEnter","current","classList","add","onDragLeave","remove","onDrop","onFileDrop","e","newFile","target","files","updatedList","onFileChange","fileRemove","file","splice","indexOf","regex","console","log","NodeSelect","event","nodeId","test","renderTree","features","Array","isArray","map","feature","length","item","index","name","size","marginLeft","marginRight","width","height","flexGrow","transformImage"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,MAAjD,QAA+D,OAA/D;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,qBAAP;AAEA,OAAOC,SAAP,MAAsB,wCAAtB;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,IAAI,GAAG;AACTC,EAAAA,GAAG,EAAE,SADI;AAETC,EAAAA,KAAK,EAAE,UAFE;AAGTC,EAAAA,QAAQ,EACR,CACI;AACIF,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,KAAK,EAAE;A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","sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\r\nimport TreeView from '@mui/lab/TreeView';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport TreeItem from '@mui/lab/TreeItem';\r\nimport ImageContext from './ImageContext';\r\nimport ImageUploader from './ImageUploader';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ImageUploader.css';\r\n\r\nimport uploadImg from '../../img/cloud-upload-regular-240.png';\r\n\r\n\r\n/*import DropdownTreeSelect from 'react-dropdown-tree-select';*/\r\n\r\n/*const HM = {\r\n    key: \"1\",\r\n    label: \"Head Movement\",\r\n    children: [\r\n        {\r\n            key: \"1a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"1b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"1c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"1d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FE = {\r\n    key: \"2\",\r\n    label: \"Facial Expression\",\r\n    children: [\r\n        {\r\n            key: \"2a\",\r\n            label: \"Happy\",\r\n        },\r\n        {\r\n            key: \"2b\",\r\n            label: \"Sad\",\r\n        },\r\n        {\r\n            key: \"2c\",\r\n            label: \"Angry\",\r\n        },\r\n        {\r\n            key: \"2d\",\r\n            label: \"Surprise\",\r\n        },\r\n        {\r\n            key: \"2e\",\r\n            label: \"Disgust\",\r\n        }, \r\n        {\r\n            key: \"2f\",\r\n            label: \"Neutral\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst EM = {\r\n    key: \"3\",\r\n    label: \"Eye Movement\",\r\n    children: [\r\n        {\r\n            key: \"3a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"3b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"3c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"3d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst GC = {\r\n    key: \"4\",\r\n    label: \"Gender Customization\",\r\n    children: [\r\n        {\r\n            key: \"4a\",\r\n            label: \"Male\",\r\n        },\r\n        {\r\n            key: \"4b\",\r\n            label: \"Female\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FA = {\r\n    key: \"5\",\r\n    label: \"Face Aging\",\r\n    children: [\r\n        {\r\n            key: \"5a\",\r\n            label: \"Older\",\r\n        },\r\n        {\r\n            key: \"5b\",\r\n            label: \"Younger\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst AS = {\r\n    key: \"6\",\r\n    label: \"Anime-Style\",\r\n    children: [\r\n        {\r\n            key: \"6a\",\r\n            label: \"Anime\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst PA = {\r\n    key: \"7\",\r\n    label: \"Produce Audio\",\r\n    children: [\r\n        {\r\n            key: \"7a\",\r\n            label: \"Audio Clip 1\",\r\n        },\r\n        {\r\n            key: \"7b\", \r\n            label: \"Audio Clip 2\",\r\n        },\r\n        {\r\n            key: \"7c\",\r\n            label: \"Audio Clip 3\",\r\n        }\r\n    ]\r\n}*/\r\n\r\nconst data = {\r\n    key: \"feature\",\r\n    label: \"Features\",\r\n    children: \r\n    [\r\n        {\r\n            key: \"1\",\r\n            label: \"Head Movement\",\r\n            /*children: [\r\n                {\r\n                    key: \"1a\",\r\n                    label: \"Left\",\r\n                },\r\n                {\r\n                    key: \"1b\",\r\n                    label: \"Right\",\r\n                },\r\n                {\r\n                    key: \"1c\",\r\n                    label: \"Up\",\r\n                },\r\n                {\r\n                    key: \"1d\",\r\n                    label: \"Down\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"2\",\r\n            label: \"Facial Expression\",\r\n            /*children: [\r\n                {\r\n                    key: \"2a\",\r\n                    label: \"Happy\",\r\n                },\r\n                {\r\n                    key: \"2b\",\r\n                    label: \"Sad\",\r\n                },\r\n                {\r\n                    key: \"2c\",\r\n                    label: \"Angry\",\r\n                },\r\n                {\r\n                    key: \"2d\",\r\n                    label: \"Surprise\",\r\n                },\r\n                {\r\n                    key: \"2e\",\r\n                    label: \"Disgust\",\r\n                }, \r\n                {\r\n                    key: \"2f\",\r\n                    label: \"Neutral\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"3\",\r\n            label: \"Eye Movement\",\r\n            /*children: [\r\n                {\r\n                    key: \"3a\",\r\n                    label: \"Left\",\r\n                },\r\n                {\r\n                    key: \"3b\",\r\n                    label: \"Right\",\r\n                },\r\n                {\r\n                    key: \"3c\",\r\n                    label: \"Up\",\r\n                },\r\n                {\r\n                    key: \"3d\",\r\n                    label: \"Down\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"GC\",\r\n            label: \"Gender Customization\",\r\n            children: [\r\n                {\r\n                    key: \"4\",\r\n                    label: \"Male\",\r\n                },\r\n                {\r\n                    key: \"5\",\r\n                    label: \"Female\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            key: \"FA\",\r\n            label: \"Face Aging\",\r\n            children: [\r\n                {\r\n                    key: \"6\",\r\n                    label: \"Older\",\r\n                },\r\n                {\r\n                    key: \"7\",\r\n                    label: \"Younger\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            key: \"8\",\r\n            label: \"Anime-Style\",\r\n            /*children: [\r\n                {\r\n                    key: \"8\",\r\n                    label: \"Anime\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"9\",\r\n            label: \"Produce Audio\",\r\n            /*children: [\r\n                {\r\n                    key: \"9\",\r\n                    label: \"Audio Clip 1\",\r\n                }\r\n            ]*/\r\n        }\r\n    ]\r\n};\r\n\r\n\r\n\r\nfunction FeatureSelection(props) {\r\n    const [ selectedFeature, setSelectedFeature ] = useState(null)\r\n\r\n    const wrapperRef = useRef(null);\r\n\r\n    const [image, setImage] = useState([]);\r\n\r\n    const onDragEnter = () => wrapperRef.current.classList.add('dragover');\r\n\r\n    const onDragLeave = () => wrapperRef.current.classList.remove('dragover');\r\n\r\n    const onDrop = () => wrapperRef.current.classList.remove('dragover');\r\n\r\n    const onFileDrop = (e) => {\r\n        const newFile = e.target.files[0];\r\n        if (newFile) {\r\n            const updatedList = [...image, newFile];\r\n            setImage(updatedList);\r\n            props.onFileChange(updatedList);\r\n        }\r\n    }\r\n\r\n    const fileRemove = (file) => {\r\n        const updatedList = [...image];\r\n        updatedList.splice(image.indexOf(file), 1);\r\n        setImage(updatedList);\r\n        props.onFileChange(updatedList);\r\n    }\r\n    \r\n\r\n    {/*const twoCharRegex = /^[1-9][a-zA-Z]+$/;*/}\r\n\r\n    {/*This is accepting range from 1 - 100*/}\r\n    const regex = /^[0-9\\b]+$/;\r\n\r\n    useEffect(() => {\r\n        console.log(\"Feature selected: \", selectedFeature)\r\n    })\r\n\r\n    const NodeSelect = (event, nodeId) => {\r\n        if (regex.test(nodeId)) {\r\n            setSelectedFeature(nodeId)\r\n        } else {\r\n            setSelectedFeature(null)\r\n        }\r\n    }\r\n\r\n    /*const transformImage = async () => {\r\n\r\n        const fD = new FormData()\r\n\r\n        fD.append(\r\n            \"file\",\r\n            newFile,\r\n            newFile.name\r\n        )\r\n\r\n        if (selectedFeature != null && newFile != null) {\r\n            const requestOptions = {\r\n            method: 'POST',\r\n            body: fD\r\n            }\r\n\r\n            fetch(\"/get-image\", requestOptions)\r\n                .then(response => response.json())\r\n                .then(function (response) {\r\n                    console.log(\"response\", response)\r\n            });\r\n        } else {\r\n            console.log(\"No feature selected or no image uploaded\")\r\n        }\r\n    }*/\r\n\r\n    /*const transformImage = async () => {\r\n        let imageUpload = document.querySelector(\"#imageUploaded\")\r\n        \r\n        console.log(image)\r\n        let fD = new FormData()\r\n        // fD.append(\"featureID\", selectedFeature)\r\n        fD.append(\"file\", image)\r\n\r\n        axios.post(\"/get-image\", fD, {'Content-Type': 'multipart/form-data'})\r\n            .then(response => {\r\n                console.log(\"REsponse\",response)\r\n            }) .catch ((error) => {\r\n                console.log(\"Error\",error)\r\n            })\r\n    }*/\r\n\r\n    const renderTree = (features) => (\r\n        <TreeItem key={features.key} nodeId={features.key} label={features.label}>\r\n            {Array.isArray(features.children) ? features.children.map((feature) => renderTree(feature)) : null}\r\n        </TreeItem>\r\n    )\r\n\r\n    return (\r\n        <>\r\n        <>\r\n            <div\r\n                ref={wrapperRef}\r\n                className=\"drop-file-input\"\r\n                onDragEnter={onDragEnter}\r\n                onDragLeave={onDragLeave}\r\n                onDrop={onDrop}\r\n            >\r\n                <div className=\"drop-file-input__label\">\r\n                    <img src={uploadImg} alt=\"\" />\r\n                    <p>Drag & Drop your files here</p>\r\n                </div>\r\n                <input type=\"file\" value=\"\" onChange={onFileDrop} id=\"imageUpload\"/>\r\n            </div>\r\n            {\r\n                image.length > 0 ? (\r\n                    <div className=\"drop-file-preview\">\r\n                        <p className=\"drop-file-preview__title\">\r\n                            Ready to upload\r\n                        </p>\r\n                        {\r\n                            image.map((item, index) => (\r\n                                <div key={index} className=\"drop-file-preview__item\">\r\n                                    <div className=\"drop-file-preview__item__info\">\r\n                                        <p>{item.name}</p>\r\n                                        <p>{item.size}B</p>\r\n                                    </div>\r\n                                    <span className=\"drop-file-preview__item__del\" onClick={() => fileRemove(item)}>x</span>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                ) : null\r\n            }\r\n        </>\r\n        <div style={{marginLeft: \"auto\", marginRight: \"auto\", width: \"300px\"}}>\r\n                <TreeView defaultCollapseIcon={<ExpandMoreIcon />} defaultExpanded={[\"feature\"]} defaultExpandIcon={<ChevronRightIcon />} sx={{height: 110, flexGrow: 1}} onNodeSelect={NodeSelect}>\r\n                    {renderTree(data)}\r\n                    <button className='transformImage' onClick={transformImage}>Transform!</button>\r\n                </TreeView>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FeatureSelection;"]},"metadata":{},"sourceType":"module"}