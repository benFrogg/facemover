{"ast":null,"code":"var _jsxFileName = \"E:\\\\FYP_Face_Animation\\\\fyp_full\\\\fyp_web\\\\src\\\\components\\\\Animator\\\\FeatureSelection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport TreeView from '@mui/lab/TreeView';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport TreeItem from '@mui/lab/TreeItem';\nimport ImageContext from './ImageContext';\nimport ImageUploader from './ImageUploader';\n/*import DropdownTreeSelect from 'react-dropdown-tree-select';*/\n\n/*const HM = {\r\n    key: \"1\",\r\n    label: \"Head Movement\",\r\n    children: [\r\n        {\r\n            key: \"1a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"1b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"1c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"1d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FE = {\r\n    key: \"2\",\r\n    label: \"Facial Expression\",\r\n    children: [\r\n        {\r\n            key: \"2a\",\r\n            label: \"Happy\",\r\n        },\r\n        {\r\n            key: \"2b\",\r\n            label: \"Sad\",\r\n        },\r\n        {\r\n            key: \"2c\",\r\n            label: \"Angry\",\r\n        },\r\n        {\r\n            key: \"2d\",\r\n            label: \"Surprise\",\r\n        },\r\n        {\r\n            key: \"2e\",\r\n            label: \"Disgust\",\r\n        }, \r\n        {\r\n            key: \"2f\",\r\n            label: \"Neutral\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst EM = {\r\n    key: \"3\",\r\n    label: \"Eye Movement\",\r\n    children: [\r\n        {\r\n            key: \"3a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"3b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"3c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"3d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst GC = {\r\n    key: \"4\",\r\n    label: \"Gender Customization\",\r\n    children: [\r\n        {\r\n            key: \"4a\",\r\n            label: \"Male\",\r\n        },\r\n        {\r\n            key: \"4b\",\r\n            label: \"Female\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FA = {\r\n    key: \"5\",\r\n    label: \"Face Aging\",\r\n    children: [\r\n        {\r\n            key: \"5a\",\r\n            label: \"Older\",\r\n        },\r\n        {\r\n            key: \"5b\",\r\n            label: \"Younger\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst AS = {\r\n    key: \"6\",\r\n    label: \"Anime-Style\",\r\n    children: [\r\n        {\r\n            key: \"6a\",\r\n            label: \"Anime\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst PA = {\r\n    key: \"7\",\r\n    label: \"Produce Audio\",\r\n    children: [\r\n        {\r\n            key: \"7a\",\r\n            label: \"Audio Clip 1\",\r\n        },\r\n        {\r\n            key: \"7b\", \r\n            label: \"Audio Clip 2\",\r\n        },\r\n        {\r\n            key: \"7c\",\r\n            label: \"Audio Clip 3\",\r\n        }\r\n    ]\r\n}*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst data = {\n  key: \"feature\",\n  label: \"Features\",\n  children: [{\n    key: \"1\",\n    label: \"Head Movement\"\n    /*children: [\r\n        {\r\n            key: \"1a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"1b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"1c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"1d\",\r\n            label: \"Down\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"2\",\n    label: \"Facial Expression\"\n    /*children: [\r\n        {\r\n            key: \"2a\",\r\n            label: \"Happy\",\r\n        },\r\n        {\r\n            key: \"2b\",\r\n            label: \"Sad\",\r\n        },\r\n        {\r\n            key: \"2c\",\r\n            label: \"Angry\",\r\n        },\r\n        {\r\n            key: \"2d\",\r\n            label: \"Surprise\",\r\n        },\r\n        {\r\n            key: \"2e\",\r\n            label: \"Disgust\",\r\n        }, \r\n        {\r\n            key: \"2f\",\r\n            label: \"Neutral\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"3\",\n    label: \"Eye Movement\"\n    /*children: [\r\n        {\r\n            key: \"3a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"3b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"3c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"3d\",\r\n            label: \"Down\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"GC\",\n    label: \"Gender Customization\",\n    children: [{\n      key: \"4\",\n      label: \"Male\"\n    }, {\n      key: \"5\",\n      label: \"Female\"\n    }]\n  }, {\n    key: \"FA\",\n    label: \"Face Aging\",\n    children: [{\n      key: \"6\",\n      label: \"Older\"\n    }, {\n      key: \"7\",\n      label: \"Younger\"\n    }]\n  }, {\n    key: \"8\",\n    label: \"Anime-Style\"\n    /*children: [\r\n        {\r\n            key: \"8\",\r\n            label: \"Anime\",\r\n        }\r\n    ]*/\n\n  }, {\n    key: \"9\",\n    label: \"Produce Audio\"\n    /*children: [\r\n        {\r\n            key: \"9\",\r\n            label: \"Audio Clip 1\",\r\n        }\r\n    ]*/\n\n  }]\n};\n\nfunction FeatureSelection() {\n  _s();\n\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const {\n    image\n  } = useContext(ImageContext);\n  {\n    /*const twoCharRegex = /^[1-9][a-zA-Z]+$/;*/\n  }\n  {\n    /*This is accepting range from 1 - 100*/\n  }\n  const regex = /^[0-9\\b]+$/;\n  useEffect(() => {\n    console.log(\"Feature selected: \", selectedFeature);\n  });\n\n  const NodeSelect = (event, nodeId) => {\n    if (regex.test(nodeId)) {\n      setSelectedFeature(nodeId);\n    } else {\n      setSelectedFeature(null);\n    }\n  };\n\n  const transformImage = async () => {\n    if (selectedFeature != null) {\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(`file=${image};type=image/${image.split('.').pop()}`)\n      };\n      const response = await fetch(\"/token\", requestOptions);\n      const data = await response.json();\n    } else {\n      console.log(\"No feature selected\");\n    }\n  };\n\n  const submitLogin = async () => {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: JSON.stringify(`grant_type=&username=${email}&password=${password}&scope=&client_id=&client_secret=`)\n    };\n    const response = await fetch(\"/token\", requestOptions);\n    const data = await response.json();\n\n    if (!response.ok) {\n      setError(data.detail);\n    } else {\n      setToken(data.access_token);\n    }\n  };\n\n  const renderTree = features => /*#__PURE__*/_jsxDEV(TreeItem, {\n    nodeId: features.key,\n    label: features.label,\n    children: Array.isArray(features.children) ? features.children.map(feature => renderTree(feature)) : null\n  }, features.key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      width: \"300px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(TreeView, {\n      defaultCollapseIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 48\n      }, this),\n      defaultExpanded: [\"feature\"],\n      defaultExpandIcon: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 117\n      }, this),\n      sx: {\n        height: 110,\n        flexGrow: 1\n      },\n      onNodeSelect: NodeSelect,\n      children: [renderTree(data), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"transformImage\",\n        onClick: transformImage,\n        children: \"Transform!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 347,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FeatureSelection, \"o94cO//uHz2Zc4E6LnSghqTHVc0=\");\n\n_c = FeatureSelection;\nexport default FeatureSelection;\n\nvar _c;\n\n$RefreshReg$(_c, \"FeatureSelection\");","map":{"version":3,"sources":["E:/FYP_Face_Animation/fyp_full/fyp_web/src/components/Animator/FeatureSelection.js"],"names":["React","useEffect","useState","useContext","TreeView","ExpandMoreIcon","ChevronRightIcon","TreeItem","ImageContext","ImageUploader","data","key","label","children","FeatureSelection","selectedFeature","setSelectedFeature","image","regex","console","log","NodeSelect","event","nodeId","test","transformImage","requestOptions","method","headers","body","JSON","stringify","split","pop","response","fetch","json","submitLogin","email","password","ok","setError","detail","setToken","access_token","renderTree","features","Array","isArray","map","feature","marginLeft","marginRight","width","height","flexGrow"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,IAAI,GAAG;AACTC,EAAAA,GAAG,EAAE,SADI;AAETC,EAAAA,KAAK,EAAE,UAFE;AAGTC,EAAAA,QAAQ,EACR,CACI;AACIF,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,KAAK,EAAE;AACP;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApBQ,GADJ,EAuBI;AACID,IA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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport TreeView from '@mui/lab/TreeView';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport TreeItem from '@mui/lab/TreeItem';\r\nimport ImageContext from './ImageContext';\r\nimport ImageUploader from './ImageUploader';\r\n/*import DropdownTreeSelect from 'react-dropdown-tree-select';*/\r\n\r\n/*const HM = {\r\n    key: \"1\",\r\n    label: \"Head Movement\",\r\n    children: [\r\n        {\r\n            key: \"1a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"1b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"1c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"1d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FE = {\r\n    key: \"2\",\r\n    label: \"Facial Expression\",\r\n    children: [\r\n        {\r\n            key: \"2a\",\r\n            label: \"Happy\",\r\n        },\r\n        {\r\n            key: \"2b\",\r\n            label: \"Sad\",\r\n        },\r\n        {\r\n            key: \"2c\",\r\n            label: \"Angry\",\r\n        },\r\n        {\r\n            key: \"2d\",\r\n            label: \"Surprise\",\r\n        },\r\n        {\r\n            key: \"2e\",\r\n            label: \"Disgust\",\r\n        }, \r\n        {\r\n            key: \"2f\",\r\n            label: \"Neutral\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst EM = {\r\n    key: \"3\",\r\n    label: \"Eye Movement\",\r\n    children: [\r\n        {\r\n            key: \"3a\",\r\n            label: \"Left\",\r\n        },\r\n        {\r\n            key: \"3b\",\r\n            label: \"Right\",\r\n        },\r\n        {\r\n            key: \"3c\",\r\n            label: \"Up\",\r\n        },\r\n        {\r\n            key: \"3d\",\r\n            label: \"Down\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst GC = {\r\n    key: \"4\",\r\n    label: \"Gender Customization\",\r\n    children: [\r\n        {\r\n            key: \"4a\",\r\n            label: \"Male\",\r\n        },\r\n        {\r\n            key: \"4b\",\r\n            label: \"Female\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst FA = {\r\n    key: \"5\",\r\n    label: \"Face Aging\",\r\n    children: [\r\n        {\r\n            key: \"5a\",\r\n            label: \"Older\",\r\n        },\r\n        {\r\n            key: \"5b\",\r\n            label: \"Younger\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst AS = {\r\n    key: \"6\",\r\n    label: \"Anime-Style\",\r\n    children: [\r\n        {\r\n            key: \"6a\",\r\n            label: \"Anime\",\r\n        }\r\n    ]\r\n}\r\n\r\nconst PA = {\r\n    key: \"7\",\r\n    label: \"Produce Audio\",\r\n    children: [\r\n        {\r\n            key: \"7a\",\r\n            label: \"Audio Clip 1\",\r\n        },\r\n        {\r\n            key: \"7b\", \r\n            label: \"Audio Clip 2\",\r\n        },\r\n        {\r\n            key: \"7c\",\r\n            label: \"Audio Clip 3\",\r\n        }\r\n    ]\r\n}*/\r\n\r\nconst data = {\r\n    key: \"feature\",\r\n    label: \"Features\",\r\n    children: \r\n    [\r\n        {\r\n            key: \"1\",\r\n            label: \"Head Movement\",\r\n            /*children: [\r\n                {\r\n                    key: \"1a\",\r\n                    label: \"Left\",\r\n                },\r\n                {\r\n                    key: \"1b\",\r\n                    label: \"Right\",\r\n                },\r\n                {\r\n                    key: \"1c\",\r\n                    label: \"Up\",\r\n                },\r\n                {\r\n                    key: \"1d\",\r\n                    label: \"Down\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"2\",\r\n            label: \"Facial Expression\",\r\n            /*children: [\r\n                {\r\n                    key: \"2a\",\r\n                    label: \"Happy\",\r\n                },\r\n                {\r\n                    key: \"2b\",\r\n                    label: \"Sad\",\r\n                },\r\n                {\r\n                    key: \"2c\",\r\n                    label: \"Angry\",\r\n                },\r\n                {\r\n                    key: \"2d\",\r\n                    label: \"Surprise\",\r\n                },\r\n                {\r\n                    key: \"2e\",\r\n                    label: \"Disgust\",\r\n                }, \r\n                {\r\n                    key: \"2f\",\r\n                    label: \"Neutral\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"3\",\r\n            label: \"Eye Movement\",\r\n            /*children: [\r\n                {\r\n                    key: \"3a\",\r\n                    label: \"Left\",\r\n                },\r\n                {\r\n                    key: \"3b\",\r\n                    label: \"Right\",\r\n                },\r\n                {\r\n                    key: \"3c\",\r\n                    label: \"Up\",\r\n                },\r\n                {\r\n                    key: \"3d\",\r\n                    label: \"Down\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"GC\",\r\n            label: \"Gender Customization\",\r\n            children: [\r\n                {\r\n                    key: \"4\",\r\n                    label: \"Male\",\r\n                },\r\n                {\r\n                    key: \"5\",\r\n                    label: \"Female\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            key: \"FA\",\r\n            label: \"Face Aging\",\r\n            children: [\r\n                {\r\n                    key: \"6\",\r\n                    label: \"Older\",\r\n                },\r\n                {\r\n                    key: \"7\",\r\n                    label: \"Younger\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            key: \"8\",\r\n            label: \"Anime-Style\",\r\n            /*children: [\r\n                {\r\n                    key: \"8\",\r\n                    label: \"Anime\",\r\n                }\r\n            ]*/\r\n        },\r\n        {\r\n            key: \"9\",\r\n            label: \"Produce Audio\",\r\n            /*children: [\r\n                {\r\n                    key: \"9\",\r\n                    label: \"Audio Clip 1\",\r\n                }\r\n            ]*/\r\n        }\r\n    ]\r\n};\r\n\r\n\r\n\r\nfunction FeatureSelection() {\r\n    const [ selectedFeature, setSelectedFeature ] = useState(null)\r\n    const {image} = useContext(ImageContext);\r\n\r\n    {/*const twoCharRegex = /^[1-9][a-zA-Z]+$/;*/}\r\n\r\n    {/*This is accepting range from 1 - 100*/}\r\n    const regex = /^[0-9\\b]+$/;\r\n\r\n    useEffect(() => {\r\n        console.log(\"Feature selected: \", selectedFeature)\r\n    })\r\n\r\n    const NodeSelect = (event, nodeId) => {\r\n        if (regex.test(nodeId)) {\r\n            setSelectedFeature(nodeId)\r\n        } else {\r\n            setSelectedFeature(null)\r\n        }\r\n    }\r\n\r\n    const transformImage = async () => {\r\n        if (selectedFeature != null) {\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(\r\n                    `file=${image};type=image/${image.split('.').pop()}`\r\n                )\r\n            }\r\n\r\n            const response = await fetch(\"/token\", requestOptions);\r\n            const data = await response.json();\r\n        } else {\r\n            console.log(\"No feature selected\")\r\n        }\r\n    }\r\n\r\n    const submitLogin = async () => {\r\n        const requestOptions = {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n          body: JSON.stringify(\r\n            `grant_type=&username=${email}&password=${password}&scope=&client_id=&client_secret=`\r\n          ),\r\n        };\r\n    \r\n        const response = await fetch(\"/token\", requestOptions);\r\n        const data = await response.json();\r\n    \r\n        if (!response.ok) {\r\n          setError(data.detail);\r\n        } else {\r\n          setToken(data.access_token);\r\n        }\r\n      };\r\n\r\n    const renderTree = (features) => (\r\n        <TreeItem key={features.key} nodeId={features.key} label={features.label}>\r\n            {Array.isArray(features.children) ? features.children.map((feature) => renderTree(feature)) : null}\r\n        </TreeItem>\r\n    )\r\n\r\n    return (\r\n        <div style={{marginLeft: \"auto\", marginRight: \"auto\", width: \"300px\"}}>\r\n                <TreeView defaultCollapseIcon={<ExpandMoreIcon />} defaultExpanded={[\"feature\"]} defaultExpandIcon={<ChevronRightIcon />} sx={{height: 110, flexGrow: 1}} onNodeSelect={NodeSelect}>\r\n                    {renderTree(data)}\r\n                    <button className='transformImage' onClick={transformImage}>Transform!</button>\r\n                </TreeView>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FeatureSelection;"]},"metadata":{},"sourceType":"module"}